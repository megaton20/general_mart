<!-- Page Wrapper -->
<div id="wrapper">

    <!-- Sidebar -->
    <%- include ('../partials/superSidebar') %>
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <!-- Topbar -->
                <%- include ('../partials/topbar') %>
                    <!-- End of Topbar -->
                    <%- include ('../partials/messages') %>

                    <!-- Begin Page Content -->
                    <div class="container-fluid">

                        <a class="btn btn-outline-primary mr-2 mb-1 mt-3" href="/super/all-external-riders">all external drivers</a>

                        <!-- allExterrnalRiders[0].lesxample -->
                        <div class="mb-4">
                          <div class="container">
                              <!-- Rider's Basic Information -->
                              <div class="mt-5">
                                  <div class="row">
                                      <div class="col-6">Company Name</div>
                                      <div class="col-6"><%= driverDetails[0].companyName %></div>
                                      <div class="col-6">Company Phone</div>
                                      <div class="col-6"><%= driverDetails[0].companyPhone %></div>
                                      <div class="col-6">Headquarters State</div>
                                      <div class="col-6"><%= driverDetails[0].HQ_state %></div>
                                      <div class="col-6">LGA</div>
                                      <div class="col-6"><%= driverDetails[0].HQ_lga %></div>
                                      <div class="col-6">Company Address</div>
                                      <div class="col-6"><%= driverDetails[0].companyAddress %></div>
                                      
                                      <hr>
                                      
                                      <div class="col-6">Bank Name</div>
                                      <div class="col-6"><%= driverDetails[0].Bank_name %></div>
                                      <div class="col-6">Corporate Account Number</div>
                                      <div class="col-6"><%= driverDetails[0].bankAccount %></div>
                                      <div class="col-6">Account Holder Name</div>
                                      <div class="col-6"><%= driverDetails[0].accountName %></div>
                                      <div class="col-6">Verified</div>
                                      <div class="col-6"><%= driverDetails[0].verified %></div>
                                      <div class="col-6">Status</div>
                                      <div class="col-6"><%= driverDetails[0].status %></div>
                                      <div class="col-6">NIN Number</div>
                                      <div class="col-6"><%= driverDetails[0].nation_id_number %></div>
                                      <div class="col-6">CAC Number</div>
                                      <div class="col-6"><%= driverDetails[0].CAC_number %></div>
                      
                                      <hr>
                      
                                      <div class="col-6">Goods Handled</div>
                                      <div class="col-6"><%= driverDetails[0].goodsHandled %></div>
                                      <div class="col-6">Hours</div>
                                      <div class="col-6"><%= driverDetails[0].hours %></div>
                                      <div class="col-6">Days</div>
                                      <div class="col-6"><%= driverDetails[0].days %></div>
                                      <div class="col-6">Service</div>
                                      <div class="col-6"><%= driverDetails[0].service %></div>
                                  </div>
                              </div>
                      
                              <!-- Approval and Disable Buttons -->
                              <div class="mt-5">
                                  <% if (driverDetails[0].status === 'pending') { %>
                                      <form action="/super/approve-rider/<%= driverDetails[0].user_id %>" method="POST" style="display: inline;">
                                          <input type="hidden" name="_method" value="PUT" />
                                          <button class="btn btn-outline-success">Approve</button>
                                      </form>
                      
                                      <form action="/super/disable-rider/<%= driverDetails[0].user_id %>" method="POST" style="display: inline;">
                                          <input type="hidden" name="_method" value="PUT" />
                                          <button class="btn btn-danger">Disable</button>
                                      </form>
                                  <% } else if (driverDetails[0].status === 'approved') { %>
                                      <form action="/super/disable-rider/<%= driverDetails[0].user_id %>" method="POST" style="display: inline;">
                                          <input type="hidden" name="_method" value="PUT" />
                                          <button class="btn btn-danger">Disable</button>
                                      </form>
                                  <% } %>
                              </div>
                      
                              <!-- Shipped Orders Table -->
                              <div class="mt-5">
                                  <h3>Shipped Orders</h3>
                                  <table class="table table-bordered">
                                      <thead>
                                          <tr>
                                              <th>Order ID</th>
                                              <th>tracking id</th>
                                              <th>Action</th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          <% if (shippedOrders.length > 0) { %>
                                              <% shippedOrders.forEach(order => { %>
                                                  <tr>
                                                      <td><%= order.id %></td>
                                                      <td><%= order.sale_id %></td>
                                                      <td>
                                                          <a class="btn btn-primary" href="/super/view-order/<%= order.id %>">View Order</a>
                                                      </td>
                                                  </tr>
                                              <% }) %>
                                          <% } else { %>
                                              <tr>
                                                  <td colspan="5" class="text-center">No shipped orders found for this driver.</td>
                                              </tr>
                                          <% } %>
                                      </tbody>
                                  </table>
                              </div>
                          </div>
                      </div>
                      

                    </div>
                    <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            <!-- Footer -->
            <%- include ('../partials/footer') %>
                <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

</div>
<!-- End of Page Wrapper -->

<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>