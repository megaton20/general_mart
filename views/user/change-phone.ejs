

<%- include('./partials/navbar') %>
<main class="main">
<div class="container ">
<%- include ('../partials/messages') %>


		   <a class="back-btn" href="/user/user-details"><i class="bi bi-arrow-left-circle"></i> Back</a>
	
             
		<div class="m-card">
	
						<div class=" p-1" style="margin-top: 50px;" >

							<form action="/user/reset-phone" method="post" id="resetPhoneForm" onsubmit="return validatePhoneForm()">
								<div class="form-group">
								  <input type="text" class="form-control mt-2 bg-transparent text-dark" placeholder="Enter Old Phone" name="oldPhone" id="oldPhone">
								  <small id="oldPhoneError" class="text-danger"></small>
								</div>
								<div class="form-group">
								  <input type="text" class="form-control mt-2 bg-transparent text-dark" placeholder="Enter New Phone" name="newPhone" id="newPhone">
								  <small id="newPhoneError" class="text-danger"></small>
								</div>
							  
								<button class="my-btn mt-2 m-0" style="width: 100%;" type="submit">Reset Phone</button>
							  </form>
							  
							 
							  

						</div>

		</div>

<br>
<br>
</div>
</main>
		
<script>
	function validatePhoneForm() {
	  let isValid = true;
  
	  // Clear previous errors
	  document.querySelectorAll(".text-danger").forEach(el => el.textContent = "");
  
	  // Old Phone validation
	  const oldPhone = document.getElementById("oldPhone").value.trim();
	  if (!oldPhone) {
		document.getElementById("oldPhoneError").textContent = "Old phone number is required.";
		isValid = false;
	  } else if (!/^\d{10,15}$/.test(oldPhone)) { // Adjust regex pattern based on phone format
		document.getElementById("oldPhoneError").textContent = "Please enter a valid phone number.";
		isValid = false;
	  }
  
	  // New Phone validation
	  const newPhone = document.getElementById("newPhone").value.trim();
	  if (!newPhone) {
		document.getElementById("newPhoneError").textContent = "New phone number is required.";
		isValid = false;
	  } else if (!/^\d{10,15}$/.test(newPhone)) { // Adjust regex pattern based on phone format
		document.getElementById("newPhoneError").textContent = "Please enter a valid phone number.";
		isValid = false;
	  } else if (newPhone === oldPhone) {
		document.getElementById("newPhoneError").textContent = "New phone number cannot be the same as the old one.";
		isValid = false;
	  }
  
	  return isValid; // If all validations pass, form will submit; otherwise, it won't.
	}
  </script>